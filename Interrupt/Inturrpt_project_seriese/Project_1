#include <iom128v.h>

void delay_m(unsigned int m);

// 7세그먼트 숫자 패턴 (0~9)
unsigned char number[10] = {0x04, 0x2f, 0x18, 0x09, 0x23, 0x41, 0x40, 0x07, 0x00, 0x01};
char cnt ;

void main(void)
{
    // --- 포트 설정 ---
    DDRD = 0x7F; // PORTD 0~6번 핀을 출력으로 설정 (7-segment용)

    // --- 인터럽트 설정 ---
    EICRB = 0x03;   //
    //EICRA =
    // --- 메인 루프 ---
    while(1)
    {
        if(cnt == 10) cnt = 0;
        PORTD = number[cnt];

        if(EIFR == 0x10){
            cnt++;
            EIFR = 0x10;    //answer of Ex.1
        }    // 0001 0000
        delay_m(500); //-> Do not exit on this line
    }
}

void delay_m(unsigned int m)
{
    unsigned int i, j;
    for(i = 0; i < m; i++)
    {
        for(j = 0; j < 2100; j++){
        ;
        };
    }
}
